function Dungeon1() {
    this.regions({
        west: [
            [[750, 1031], [829, 1031]],
            [[829, 1031], [829, 1095]],
            [[829, 1095], [797, 1095]],
            [[797, 1095], [797, 1214]],
            [[797, 1214], [811, 1214]],
            [[811, 1214], [845, 1193]],
            [[845, 1193], [883, 1191]],
            [[883, 1191], [951, 1171]],
            [[951, 1171], [1196, 1169]],
            [[1196, 1169], [1195, 1061]],
            [[1195, 1061], [1190, 1022]],
            [[1190, 1022], [1054, 1022]],
            [[1054, 1022], [1054, 1006]],
            [[2550, 2538], [2550, 3112]],
            [[2550, 3112], [2750, 3112]],
            [[2750, 3112], [2750, 3680]],
            [[2750, 3680], [2182, 3680]],
            [[2182, 3680], [2182, 3480]],
            [[2182, 3480], [1750, 3480]],
            [[1750, 3480], [1750, 3680]],
            [[1750, 3680], [1582, 3680]],
            [[1582, 3680], [1582, 2680]],
            [[1582, 2680], [1150, 2680]],
            [[1150, 2680], [1150, 3680]],
            [[1150, 3680], [982, 3680]],
            [[982, 3680], [982, 1880]],
            [[982, 1880], [750, 1880]],
            [[750, 1880], [750, 2280]],
            [[750, 2280], [382, 2280]],
            [[382, 2280], [382, 1031]],
            [[382, 1031], [384, 867]],
            [[384, 867], [407, 730]],
            [[407, 730], [429, 584]],
            [[429, 584], [592, 581]],
            [[592, 581], [717, 595]],
            [[717, 595], [862, 648]],
            [[862, 648], [967, 671]],
            [[967, 671], [993, 675]],
            [[993, 675], [1043, 703]],
            [[1043, 703], [1091, 749]],
            [[1091, 749], [1102, 776]],
            [[1102, 776], [1054, 776]],
            [[1054, 776], [1054, 792]],
            [[749, 1031], [750, 1712]],
            [[750, 1712], [1150, 1712]],
            [[1150, 1712], [1150, 2512]],
            [[1150, 2512], [1582, 2512]],
            [[1582, 2512], [1582, 1712]],
            [[1582, 1712], [1750, 1712]],
            [[1750, 1712], [1750, 3312]],
            [[1750, 3312], [2182, 3312]],
            [[2182, 3312], [2182, 3112]],
            [[2182, 3112], [2382, 3112]],
            [[2382, 3112], [2382, 2112]],
            [[2382, 2112], [2550, 2112]],
            [[2550, 2112], [2550, 2318]]
        ],
        east: [
            [[1054, 792], [1753, 792]],
            [[1753, 792], [1753, 389]],
            [[1753, 389], [3097, 389]],
            [[3097, 389], [3097, 472]],
            [[3097, 472], [3182, 472]],
            [[3182, 472], [3248, 462]],
            [[3248, 462], [3492, 462]],
            [[3492, 462], [3670, 430]],
            [[3670, 430], [3693, 434]],
            [[3693, 434], [3801, 407]],
            [[3801, 407], [3790, 460]],
            [[3790, 460], [3768, 522]],
            [[3768, 522], [3762, 586]],
            [[3762, 586], [3717, 760]],
            [[3717, 760], [3712, 792]],
            [[3712, 792], [3700, 837]],
            [[3700, 837], [3686, 928]],
            [[3686, 928], [3687, 990]],
            [[3687, 990], [3734, 1058]],
            [[3734, 1058], [3761, 1149]],
            [[3761, 1149], [3774, 1166]],
            [[3774, 1166], [3814, 1287]],
            [[3814, 1287], [3811, 1314]],
            [[3811, 1314], [3857, 1418]],
            [[3857, 1418], [3890, 1497]],
            [[3890, 1497], [3898, 1784]],
            [[3898, 1784], [3874, 1872]],
            [[3874, 1874], [3873, 2001]],
            [[3873, 2001], [3848, 2080]],
            [[3848, 2080], [3804, 2192]],
            [[3804, 2192], [3772, 2262]],
            [[3772, 2262], [3766, 2303]],
            [[3478, 2077], [3494, 2072]],
            [[3494, 2072], [3521, 2046]],
            [[3521, 2046], [3548, 1990]],
            [[3548, 1990], [3580, 1936]],
            [[3580, 1936], [3624, 1812]],
            [[3624, 1812], [3624, 1678]],
            [[3624, 1678], [3614, 1604]],
            [[3614, 1604], [3596, 1534]],
            [[3596, 1534], [3572, 1472]],
            [[3572, 1472], [3555, 1431]],
            [[3555, 1431], [3545, 1414]],
            [[3545, 1414], [3524, 1388]],
            [[3524, 1388], [3364, 1215]],
            [[3364, 1215], [3282, 1144]],
            [[3282, 1144], [3244, 1114]],
            [[3244, 1114], [3215, 1098]],
            [[3215, 1098], [3168, 1089]],
            [[3168, 1089], [3108, 1090]],
            [[3108, 1090], [2922, 1133]],
            [[2922, 1133], [2789, 1158]],
            [[2789, 1158], [2684, 1160]],
            [[2684, 1160], [2548, 1173]],
            [[2548, 1174], [2461, 1200]],
            [[2461, 1200], [2288, 1225]],
            [[2286, 1225], [2116, 1238]],
            [[2116, 1238], [2062, 1252]],
            [[2062, 1252], [1977, 1253]],
            [[1977, 1253], [1898, 1236]],
            [[1898, 1236], [1801, 1236]],
            [[1801, 1236], [1690, 1208]],
            [[1690, 1208], [1556, 1208]],
            [[1556, 1208], [1556, 1183]],
            [[1556, 1183], [1576, 1135]],
            [[1576, 1135], [1594, 1080]],
            [[1594, 1080], [1594, 1006]],
            [[1594, 1006], [1054, 1006]]
        ],
        cave: [
            [[3029, 2401], [3046, 2401]],
            [[3046, 2401], [3061, 2392]],
            [[3061, 2392], [3086, 2386]],
            [[3086, 2386], [3175, 2386]],
            [[3175, 2386], [3194, 2397]],
            [[3194, 2397], [3205, 2410]],
            [[3205, 2410], [3215, 2431]],
            [[3215, 2431], [3296, 2507]],
            [[3296, 2507], [3365, 2548]],
            [[3365, 2548], [3408, 2585]],
            [[3408, 2585], [3472, 2684]],
            [[3472, 2684], [3492, 2745]],
            [[3492, 2745], [3493, 2864]],
            [[3493, 2864], [3482, 2889]],
            [[3482, 2889], [3470, 2915]],
            [[3470, 2915], [3428, 2955]],
            [[3428, 2955], [3386, 2992]],
            [[3386, 2992], [3353, 3010]],
            [[3353, 3010], [3322, 3018]],
            [[3322, 3018], [3208, 3019]],
            [[3208, 3019], [3180, 3000]],
            [[3180, 3000], [3158, 2993]],
            [[3158, 2993], [3146, 2986]],
            [[3146, 2986], [3134, 2971]],
            [[3134, 2971], [3118, 2946]],
            [[3118, 2946], [3111, 2917]],
            [[3111, 2917], [3106, 2903]],
            [[3106, 2903], [3098, 2896]],
            [[3098, 2896], [3090, 2880]],
            [[3090, 2880], [3086, 2861]],
            [[3086, 2861], [3086, 2782]],
            [[3086, 2782], [3019, 2694]],
            [[3019, 2694], [2966, 2591]],
            [[2966, 2591], [2953, 2543]],
            [[2953, 2543], [2953, 2479]],
            [[2953, 2479], [3029, 2401]],
            [[2550, 2318], [2570, 2318]],
            [[2570, 2318], [2621, 2289]],
            [[2621, 2289], [2661, 2272]],
            [[2661, 2272], [2690, 2266]],
            [[2690, 2266], [2827, 2264]],
            [[2827, 2264], [2862, 2258]],
            [[2862, 2258], [2932, 2237]],
            [[2932, 2237], [2994, 2209]],
            [[2994, 2209], [3041, 2186]],
            [[3041, 2186], [3088, 2142]],
            [[3089, 2142], [3145, 2103]],
            [[3145, 2103], [3181, 2083]],
            [[3181, 2083], [3209, 2072]],
            [[3209, 2073], [3259, 2063]],
            [[3259, 2063], [3437, 2064]],
            [[3437, 2064], [3460, 2074]],
            [[3460, 2074], [3478, 2077]],
            [[3766, 2303], [3770, 2357]],
            [[3770, 2357], [3794, 2415]],
            [[3794, 2415], [3810, 2505]],
            [[3810, 2505], [3814, 2593]],
            [[3814, 2593], [3834, 2732]],
            [[3834, 2732], [3838, 2822]],
            [[3838, 2822], [3903, 3043]],
            [[3903, 3043], [3922, 3101]],
            [[3922, 3101], [3923, 3254]],
            [[3923, 3254], [3892, 3350]],
            [[3892, 3350], [3879, 3430]],
            [[3879, 3430], [3839, 3574]],
            [[3839, 3574], [3796, 3628]],
            [[3796, 3628], [3781, 3730]],
            [[3781, 3730], [3737, 3783]],
            [[3737, 3783], [3693, 3806]],
            [[3693, 3806], [3582, 3817]],
            [[3582, 3817], [3471, 3843]],
            [[3471, 3843], [3390, 3867]],
            [[3390, 3867], [3330, 3873]],
            [[3330, 3873], [3286, 3875]],
            [[3286, 3875], [3139, 3813]],
            [[3139, 3813], [3105, 3786]],
            [[3105, 3786], [3056, 3727]],
            [[3056, 3727], [2988, 3667]],
            [[2988, 3667], [2955, 3584]],
            [[2955, 3584], [2943, 3442]],
            [[2943, 3442], [2849, 3238]],
            [[2849, 3238], [2851, 3163]],
            [[2851, 3163], [2826, 3097]],
            [[2826, 3097], [2810, 3079]],
            [[2810, 3079], [2764, 3050]],
            [[2764, 3049], [2719, 3007]],
            [[2719, 3007], [2684, 2929]],
            [[2684, 2929], [2681, 2804]],
            [[2681, 2804], [2722, 2704]],
            [[2722, 2704], [2725, 2656]],
            [[2725, 2656], [2687, 2593]],
            [[2687, 2593], [2659, 2579]],
            [[2659, 2579], [2638, 2573]],
            [[2638, 2573], [2616, 2560]],
            [[2616, 2560], [2599, 2548]],
            [[2599, 2548], [2585, 2541]],
            [[2585, 2541], [2566, 2538]],
            [[2566, 2538], [2550, 2538]]
        ]
    });

    this.connect(
        ['west', 'east', [[1054, 792], [1054, 1006]]],
        ['west', 'cave', [[2550, 2318], [2550, 2538]]],
        ['cave', 'east', [[3478, 2077], [3765, 2303]]]
    );

    this.image_files('content/maps/dungeon1/images/', {
        level1_floor: ['dungeon1.png', 'dungeon1bumpmap-compressed.jpg', 'dungeon1lightmap-compressed.jpg', 'dungeon1shinemap.png']
    });

    this.levels({
        level1: [[
                'west', 'east', 'cave'
            ], 
            [], 'level1_floor'
        ]
    });

    this.light_obstructions({
        level1: [
            [[1556, 1225], [1683, 1226]],
            [[1683, 1226], [1798, 1252]],
            [[1798, 1252], [1891, 1252]],
            [[1891, 1252], [1970, 1268]],
            [[1970, 1268], [2066, 1270]],
            [[2066, 1270], [2117, 1256]],
            [[2117, 1256], [2310, 1244]],
            [[2310, 1244], [2472, 1216]],
            [[2472, 1216], [2554, 1188]],
            [[2554, 1188], [2680, 1180]],
            [[2680, 1180], [2778, 1176]],
            [[2778, 1176], [2926, 1148]],
            [[2926, 1148], [3016, 1134]],
            [[3016, 1134], [3110, 1106]],
            [[3110, 1106], [3166, 1106]],
            [[3166, 1106], [3209, 1117]],
            [[3209, 1117], [3243, 1133]],
            [[3243, 1133], [3347, 1227]],
            [[3347, 1227], [3529, 1423]],
            [[3529, 1423], [3587, 1563]],
            [[3587, 1563], [3606, 1683]],
            [[3606, 1683], [3606, 1803]],
            [[3606, 1803], [3568, 1915]],
            [[3568, 1915], [3505, 2041]],
            [[3505, 2041], [3477, 2059]],
            [[3477, 2059], [3441, 2046]],
            [[3441, 2046], [3254, 2045]],
            [[3254, 2045], [3184, 2063]],
            [[3184, 2063], [3107, 2106]],
            [[3107, 2106], [3031, 2169]],
            [[3031, 2169], [2962, 2207]],
            [[2962, 2207], [2854, 2242]],
            [[2854, 2242], [2784, 2247]],
            [[2784, 2247], [2687, 2251]],
            [[2687, 2251], [2619, 2270]],
            [[2619, 2270], [2566, 2300]],
            [[2566, 2300], [2566, 2096]],
            [[2566, 2096], [2366, 2096]],
            [[2366, 2096], [2366, 3096]],
            [[2366, 3096], [2166, 3096]],
            [[2166, 3096], [2166, 3294]],
            [[2166, 3294], [1766, 3296]],
            [[1766, 3296], [1766, 1696]],
            [[1766, 1696], [1565, 1696]],
            [[1565, 1696], [1564, 1644]],
            [[1564, 1644], [1576, 1605]],
            [[1576, 1605], [1582, 1428]],
            [[1582, 1428], [1582, 1336]],
            [[1582, 1336], [1556, 1225]],
            [[766, 1047], [813, 1047]],
            [[813, 1047], [813, 1080]],
            [[813, 1080], [781, 1080]],
            [[781, 1080], [781, 1230]],
            [[781, 1230], [814, 1232]],
            [[814, 1232], [852, 1210]],
            [[852, 1210], [887, 1208]],
            [[887, 1208], [956, 1188]],
            [[956, 1188], [1201, 1186]],
            [[1201, 1186], [1206, 1358]],
            [[1206, 1358], [1188, 1466]],
            [[1188, 1466], [1166, 1696]],
            [[1166, 1696], [766, 1696]],
            [[766, 1696], [766, 1047]],
            [[3169, 2403], [3092, 2403]],
            [[3092, 2403], [3036, 2421]],
            [[3036, 2421], [2969, 2488]],
            [[2969, 2488], [2969, 2536]],
            [[2969, 2536], [2977, 2574]],
            [[2977, 2574], [3024, 2673]],
            [[3024, 2673], [3070, 2738]],
            [[3070, 2738], [3086, 2750]],
            [[3086, 2750], [3104, 2779]],
            [[3104, 2779], [3104, 2856]],
            [[3104, 2856], [3111, 2884]],
            [[3111, 2884], [3122, 2896]],
            [[3122, 2896], [3128, 2912]],
            [[3128, 2912], [3133, 2937]],
            [[3133, 2937], [3154, 2970]],
            [[3154, 2970], [3214, 3000]],
            [[3214, 3000], [3315, 3002]],
            [[3315, 3002], [3346, 2994]],
            [[3346, 2994], [3384, 2970]],
            [[3384, 2970], [3432, 2925]],
            [[3432, 2925], [3454, 2904]],
            [[3454, 2904], [3476, 2858]],
            [[3476, 2858], [3474, 2744]],
            [[3474, 2744], [3456, 2690]],
            [[3456, 2690], [3397, 2600]],
            [[3397, 2600], [3366, 2568]],
            [[3366, 2568], [3291, 2526]],
            [[3291, 2526], [3234, 2476]],
            [[3234, 2476], [3201, 2441]],
            [[3201, 2441], [3190, 2420]],
            [[3190, 2420], [3180, 2408]],
            [[3180, 2408], [3169, 2403]],
            [[412, 582], [0, 668]],
            [[0, 668], [0, 0]],
            [[0, 0], [4096, 0]],
            [[4096, 0], [4096, 296]],
            [[4096, 296], [4011, 311]],
            [[4011, 311], [3899, 383]],
            [[3899, 383], [3819, 401]],
            [[3819, 401], [3742, 714]],
            [[3742, 714], [3704, 974]],
            [[3704, 974], [3752, 1048]],
            [[3752, 1048], [3836, 1276]],
            [[3836, 1276], [3830, 1304]],
            [[3830, 1304], [3908, 1496]],
            [[3908, 1496], [3915, 1790]],
            [[3915, 1790], [3891, 1882]],
            [[3891, 1882], [3891, 2002]],
            [[3891, 2002], [3841, 2156]],
            [[3841, 2156], [3788, 2280]],
            [[3788, 2280], [3791, 2357]],
            [[3791, 2357], [3823, 2445]],
            [[3823, 2445], [3835, 2583]],
            [[3835, 2583], [3858, 2742]],
            [[3858, 2742], [3858, 2820]],
            [[3858, 2820], [3900, 2952]],
            [[3900, 2952], [3916, 3032]],
            [[3916, 3032], [3946, 3108]],
            [[3946, 3108], [3946, 3256]],
            [[3946, 3256], [3911, 3364]],
            [[3911, 3364], [3870, 3562]],
            [[3870, 3562], [3855, 3590]],
            [[3855, 3590], [3817, 3635]],
            [[3817, 3635], [3799, 3742]],
            [[3799, 3742], [3758, 3793]],
            [[3758, 3793], [3700, 3828]],
            [[3700, 3828], [3663, 3827]],
            [[3663, 3827], [3538, 3844]],
            [[3538, 3844], [3377, 3891]],
            [[3377, 3891], [3277, 3897]],
            [[3277, 3897], [3117, 3828]],
            [[3117, 3828], [3046, 3751]],
            [[3046, 3751], [2975, 3683]],
            [[2975, 3683], [2934, 3581]],
            [[2934, 3581], [2932, 3479]],
            [[2932, 3479], [2832, 3249]],
            [[2832, 3249], [2825, 3147]],
            [[2825, 3147], [2804, 3099]],
            [[2804, 3099], [2748, 3062]],
            [[2748, 3062], [2705, 3021]],
            [[2705, 3021], [2666, 2936]],
            [[2666, 2936], [2663, 2800]],
            [[2663, 2800], [2705, 2698]],
            [[2705, 2698], [2707, 2669]],
            [[2707, 2669], [2674, 2607]],
            [[2674, 2607], [2566, 2555]],
            [[2566, 2555], [2566, 3096]],
            [[2566, 3096], [2766, 3096]],
            [[2766, 3096], [2766, 3696]],
            [[2766, 3696], [2166, 3696]],
            [[2166, 3696], [2166, 3496]],
            [[2166, 3496], [1766, 3496]],
            [[1766, 3496], [1766, 3696]],
            [[1766, 3696], [966, 3696]],
            [[966, 3696], [966, 1896]],
            [[966, 1896], [766, 1896]],
            [[766, 1896], [766, 2296]],
            [[766, 2296], [366, 2296]],
            [[366, 2296], [366, 1031]],
            [[366, 1031], [363, 994]],
            [[363, 994], [369, 858]],
            [[369, 858], [376, 823]],
            [[376, 823], [377, 780]],
            [[377, 780], [386, 749]],
            [[386, 749], [392, 712]],
            [[392, 712], [396, 668]],
            [[396, 668], [412, 582]]
        ]
    });

    this.lights({
        l1: ['level1', [800, 800], 1000, [1,1,1,1]],
        l2: ['level1', [600, 1800], 1000, [1,1,1,1]]
        /*
        l2: ['level1', [3400, 3600], 2000, [0.7, 1, 0.4, 1]],
        l3: ['level1', [550, 1760], 2000, [1, 0.8, 0.2, 1]],
        l4: ['level1', [1360, 2624], 2000, [0.3, 0.7, 1, 1]],
        l1: ['level1', [2470, 3390], 1000, [1, 1, 1, 1]],
        l2: ['level1', [1360, 2600], 1000, [1, 1, 1, 1]],
        l3: ['level1', [560, 1800], 1000, [1, 1, 1, 1]],
        l4: ['level1', [1900, 600], 1000, [1, 1, 1, 1]],
        l5: ['level1', [3400, 1000], 1000, [1, 1, 1, 1]],
        l6: ['level1', [3420, 2200], 1000, [1, 1, 1, 1]],
        l7: ['level1', [3300, 3500], 1000, [1, 1, 1, 1]],
        */
        //l5: ['level1', [2000, 3400], 1000, [1,1,1,1]],
        //l6: ['level1', [2450, 2400], 1000, [1,1,1,1]]
    });

    this.level_detectors({
        
    });

    this.initial('level1');
}
